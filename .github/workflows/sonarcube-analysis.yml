name: SonarQube Analysis

on:
  push:
    branches: [ main ]

jobs:
    backend:
      runs-on: ubuntu-latest
      steps:
        - uses: actions/checkout@v4
  
        - name: Install Backend Dependencies
          run: mvn clean install
        - name: Run SonarScanner for Backend
          uses: sonarsource/sonarqube-scan-action@v2
          env:
            sonar.host.url: ${{ secrets.SONAR_HOST_URL }}
            sonar.login: ${{ secrets.SONAR_TOKEN }}

            # Add additional arguments for backend analysis as needed
    frontend:
      runs-on: ubuntu-latest
      steps:
        - uses: actions/checkout@v4
          
        - name: Install Frontend Dependencies
          run: npm install          
        - name: Run SonarScanner for Frontend
          uses: sonarsource/sonarqube-scan-action@v2
          env:
            sonar.host.url: ${{ secrets.SONAR_HOST_URL }}
            sonar.login: ${{ secrets.SONAR_TOKEN }}

            # Add additional arguments for frontend analysis as needed
          